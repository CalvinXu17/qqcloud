var S=Object.defineProperty;var g=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var D=(u,e,t)=>e in u?S(u,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):u[e]=t,d=(u,e)=>{for(var t in e||(e={}))U.call(e,t)&&D(u,t,e[t]);if(g)for(var t of g(e))L.call(e,t)&&D(u,t,e[t]);return u};var f=(u,e,t)=>new Promise((w,s)=>{var m=n=>{try{i(t.next(n))}catch(p){s(p)}},c=n=>{try{i(t.throw(n))}catch(p){s(p)}},i=n=>n.done?w(n.value):Promise.resolve(n.value).then(m,c);i((t=t.apply(u,e)).next())});import{B as M}from"./Table.f3fc7c86.js";import{T as P}from"./TableAction.ab11b52b.js";import{b as R,d as V}from"./index.62164120.js";import{N as q}from"./Time.48ade623.js";import{H as h,d as z,u as H,I,r as l,b as E,o as F,z as y,w as _,i as k,k as J,h as v,J as O,p as j,D as G}from"./index.59f76cad.js";import K from"./agentEdit.1fb86b37.js";import{u as Q}from"./app.ce630fce.js";import"./TableAction.vue_vue_type_script_lang.321ef384.js";import"./vuedraggable.umd.0da7a3e4.js";import"./useDesignSetting.50fa4cb3.js";import"./SettingOutlined.a710f903.js";import"./propTypes.9160ed87.js";import"./FormOutlined.6fbfe0c1.js";import"./ReloadOutlined.69a41b08.js";import"./componentSetting.a3b3dac8.js";import"./index.99a0eb0f.js";import"./DownOutlined.5557ba80.js";const W=[{title:"#",key:"id",width:100},{title:"\u7528\u6237\u540D",key:"user",width:100},{title:"\u90AE\u7BB1",key:"email",width:100},{title:"\u4F59\u989D",key:"money",width:100},{title:"\u521B\u5EFA\u65F6\u95F4",key:"create_time",width:180,render(u){return h(q,{time:new Date(u.create_time),type:"datetime"})}}],ft=z({__name:"agentList",setup(u){const e=Q(),t=H(),w=I(),s=l();l([]);const m=l(""),c=l(null),i=l(!1),n=E({width:100,title:"\u64CD\u4F5C",key:"action",fixed:"right",render(o){return h(P,{style:"button",actions:[{label:"\u7F16\u8F91",onClick:B.bind(null,o),ifShow:()=>!0},{label:"\u5220\u9664",onClick:A.bind(null,o),ifShow:()=>!0}]})}}),p=E({name:"",address:"",date:null}),b=l({limit:10,page:1});function B(o){console.log("\u70B9\u51FB\u4E86\u7F16\u8F91",o),i.value=!0,c.value=o,m.value="\u4FEE\u6539\u4EE3\u7406"}function A(o){return f(this,null,function*(){w.warning({title:"\u6E29\u99A8\u63D0\u793A",content:"\u5220\u9664\u4EE3\u7406\uFF0C\u5C06\u4F1A\u6E05\u7A7A\u4EE3\u7406\u540D\u4E0B\u6FC0\u6D3B\u7801\u4EE5\u53CA\u7528\u6237(\u8BF7\u8C28\u614E\u64CD\u4F5C\uFF01)",positiveText:"\u5220\u9664",negativeText:"\u53D6\u6D88",onPositiveClick:()=>f(this,null,function*(){yield R({id:o.id}),C(),yield e.fetchAgentList(!0)}),onNegativeClick:()=>{t.info("\u53D6\u6D88\u64CD\u4F5C")}})})}const T=o=>f(this,null,function*(){let a=yield V(d(d(d({},p),b.value),o));return console.log(a),a});function C(){s.value.fetchData()}return(o,a)=>{const x=j,N=G;return F(),y(N,{title:""},{default:_(()=>[k(v(M),{columns:v(W),request:T,"row-key":r=>r.id,ref_key:"actionRef",ref:s,actionColumn:n,"scroll-x":1090},{toolbar:_(()=>[k(x,{type:"primary",onClick:C},{default:_(()=>[J("\u5237\u65B0\u6570\u636E")]),_:1})]),_:1},8,["columns","row-key","actionColumn"]),(F(),y(O(K),{show:i.value,"onUpdate:show":a[0]||(a[0]=r=>i.value=r),form:c.value,"onUpdate:form":a[1]||(a[1]=r=>c.value=r),title:m.value,"onUpdate:title":a[2]||(a[2]=r=>m.value=r),onOnUpdate:C},null,40,["show","form","title"]))]),_:1})}}});export{ft as default};
