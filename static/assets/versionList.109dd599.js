var U=Object.defineProperty;var b=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var g=(e,o,t)=>o in e?U(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,v=(e,o)=>{for(var t in o||(o={}))V.call(o,t)&&g(e,t,o[t]);if(b)for(var t of b(o))j.call(o,t)&&g(e,t,o[t]);return e};var C=(e,o,t)=>new Promise((_,i)=>{var s=u=>{try{p(t.next(u))}catch(f){i(f)}},m=u=>{try{p(t.throw(u))}catch(f){i(f)}},p=u=>u.done?_(u.value):Promise.resolve(u.value).then(s,m);p((t=t.apply(e,o)).next())});import{B as I}from"./Table.f3fc7c86.js";import{T as L}from"./TableAction.ab11b52b.js";import{P as O,Q as R}from"./index.62164120.js";import{v as S}from"./list.ee44ffa0.js";import q from"./versionEdit.3f3d3d7b.js";import{P as z}from"./PlusOutlined.b9443716.js";import{d as H,u as J,I as M,r as c,b as k,H as Q,N as G,o as y,z as E,w as r,i as d,h as w,k as B,J as K,p as W,D as X}from"./index.59f76cad.js";import"./TableAction.vue_vue_type_script_lang.321ef384.js";import"./vuedraggable.umd.0da7a3e4.js";import"./useDesignSetting.50fa4cb3.js";import"./SettingOutlined.a710f903.js";import"./propTypes.9160ed87.js";import"./FormOutlined.6fbfe0c1.js";import"./ReloadOutlined.69a41b08.js";import"./componentSetting.a3b3dac8.js";import"./index.99a0eb0f.js";import"./DownOutlined.5557ba80.js";import"./app.ce630fce.js";import"./Time.48ade623.js";const Ct=H({__name:"versionList",setup(e){const o=J(),t=M(),_=c();c([]);const i=c(""),s=c(null),m=c(!1),p=k({width:140,title:"\u64CD\u4F5C",key:"action",fixed:"right",render(n){return Q(L,{style:"button",actions:[{label:"\u7F16\u8F91",onClick:T.bind(null,n),ifShow:()=>!0},{label:"\u5220\u9664",onClick:h.bind(null,n),ifShow:()=>!0}]})}}),u=k({project_id:0}),f=c({limit:10,page:1});function T(n){console.log("\u70B9\u51FB\u4E86\u7F16\u8F91",n),m.value=!0,s.value=n,i.value="\u4FEE\u6539\u7248\u672C\u53F7"}function h(n){return C(this,null,function*(){t.warning({title:"\u6E29\u99A8\u63D0\u793A",content:"\u786E\u5B9A\u5220\u9664\uFF1F(\u64CD\u4F5C\u4E0D\u53EF\u9006)",positiveText:"\u5220\u9664",negativeText:"\u53D6\u6D88",onPositiveClick:()=>C(this,null,function*(){yield O(n.id),F()}),onNegativeClick:()=>{o.info("\u53D6\u6D88\u64CD\u4F5C")}})})}const x=n=>C(this,null,function*(){let a=yield R(v(v(v({},u),f.value),n));return console.log(a),a});function A(){m.value=!0,s.value=null,i.value="\u521B\u5EFA\u65B0\u7248\u672C\u53F7"}function F(){_.value.fetchData()}return(n,a)=>{const P=G,D=W,N=X;return y(),E(N,{title:""},{default:r(()=>[d(w(I),{columns:w(S),request:x,"row-key":l=>l.id,ref_key:"actionRef",ref:_,actionColumn:p,"scroll-x":1090},{tableTitle:r(()=>[d(D,{type:"primary",onClick:A},{icon:r(()=>[d(P,null,{default:r(()=>[d(w(z))]),_:1})]),default:r(()=>[B(" \u65B0\u5EFA ")]),_:1})]),toolbar:r(()=>[d(D,{type:"primary",onClick:F},{default:r(()=>[B("\u5237\u65B0\u6570\u636E")]),_:1})]),_:1},8,["columns","row-key","actionColumn"]),(y(),E(K(q),{show:m.value,"onUpdate:show":a[0]||(a[0]=l=>m.value=l),form:s.value,"onUpdate:form":a[1]||(a[1]=l=>s.value=l),title:i.value,"onUpdate:title":a[2]||(a[2]=l=>i.value=l),onOnUpdate:F},null,40,["show","form","title"]))]),_:1})}}});export{Ct as default};
