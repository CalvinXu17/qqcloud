var _=(a,e,m)=>new Promise((p,i)=>{var f=n=>{try{l(m.next(n))}catch(d){i(d)}},s=n=>{try{l(m.throw(n))}catch(d){i(d)}},l=n=>n.done?p(n.value):Promise.resolve(n.value).then(f,s);l((m=m.apply(a,e)).next())});import{A}from"./index.62164120.js";import{s as C}from"./componentSetting.a3b3dac8.js";import{u as U}from"./app.ce630fce.js";import{d as S,r as y,b as j,u as $,$ as N,y as O,a0 as v,x as L,o as D,z as h,w as o,i as u,a as M,c as V,Q as J,M as P,k as w,t as k,_ as Q,m as R,cQ as q,cR as z,C as I,p as T,q as G,aa as H}from"./index.59f76cad.js";const{project:K}=C,c=U(),B={id:0,manager_id:0,project_id:0,email:"",name:"",nick_name:"",password:"",safe_password:"",money:0,days:0,points:0,mac:"",phone:0,scope:0,key_ext_attr:"",tag:"",end_time:0,is_lock:0},W=S({props:{show:{type:Boolean,default:!1},title:{type:String,default:""},form:{type:Object,default(){return B}}},setup(a,{emit:e}){const{keys_type_lock:m}=K,p=y(!1),i=j({}),f=$();let s=null;const l=N(()=>{let r=JSON.parse(JSON.stringify(c.getProjectList));return r.unshift({name:"\u901A\u7528\u9879\u76EE-\u6240\u6709\u9879\u76EE\u90FD\u53EF\u7528",id:0}),r}),n=y({id:0,manager_id:0,project_id:0,email:"",name:"",nick_name:"",password:"",safe_password:"",money:0,days:0,points:0,mac:"",phone:0,scope:0,key_ext_attr:"",tag:"",end_time:0,is_lock:0}),d=()=>_(this,null,function*(){s=f.create("\u52A0\u8F7D\u4E2D...",{type:"loading",duration:1e4}),yield A(n.value),p.value=!1,s.destroy(),e("on-update")});return O(()=>_(this,null,function*(){p.value=a.show,yield c.fetchProjectList(!1)})),v(()=>a.show,r=>{p.value=r}),v(()=>a.form,r=>{r===null?n.value=B:n.value=r}),v(p,r=>{e("update:show",r)}),{keys_type_lock:m,formData:n,rules:i,modalShow:p,handleOk:d,projectList:l}}});const X={class:"form-view"};function Y(a,e,m,p,i,f){const s=Q,l=R,n=q,d=z,r=I,b=T,F=G,E=H;return D(),h(E,{title:a.title,style:{width:"600px"},preset:"card",show:a.modalShow,"onUpdate:show":e[11]||(e[11]=t=>a.modalShow=t)},{default:o(()=>[u(F,{ref:"formRef",inline:!1,"label-width":80,model:a.formData,rules:a.rules},{default:o(()=>[M("div",X,[u(l,{label:"\u8D26\u53F7",path:"title"},{default:o(()=>[u(s,{maxlength:32,value:a.formData.name,"onUpdate:value":e[0]||(e[0]=t=>a.formData.name=t),placeholder:"\u8F93\u5165\u8D26\u53F7\u540D\u79F0"},null,8,["value"])]),_:1}),u(l,{label:"\u5BC6\u7801",path:"password"},{default:o(()=>[u(s,{maxlength:32,value:a.formData.password,"onUpdate:value":e[1]||(e[1]=t=>a.formData.password=t),placeholder:"\u8F93\u5165\u5BC6\u7801"},null,8,["value"])]),_:1}),u(l,{label:"\u5B89\u5168\u5BC6\u7801",path:"safe_password"},{default:o(()=>[u(s,{maxlength:32,value:a.formData.safe_password,"onUpdate:value":e[2]||(e[2]=t=>a.formData.safe_password=t),placeholder:"\u8F93\u5165\u5B89\u5168\u5BC6\u7801"},null,8,["value"])]),_:1}),u(l,{label:"\u90AE\u7BB1",path:"email"},{default:o(()=>[u(s,{maxlength:32,value:a.formData.email,"onUpdate:value":e[3]||(e[3]=t=>a.formData.email=t),placeholder:"\u8F93\u5165\u90AE\u7BB1"},null,8,["value"])]),_:1}),u(l,{label:"\u673A\u5668\u7801",path:"mac"},{default:o(()=>[u(s,{maxlength:32,value:a.formData.mac,"onUpdate:value":e[4]||(e[4]=t=>a.formData.mac=t),placeholder:"\u8F93\u5165\u673A\u5668\u7801"},null,8,["value"])]),_:1}),u(l,{label:"\u624B\u673A",path:"phone"},{default:o(()=>[u(s,{maxlength:11,value:a.formData.phone,"onUpdate:value":e[5]||(e[5]=t=>a.formData.phone=t),placeholder:"\u8F93\u5165\u624B\u673A\u53F7\u7801"},null,8,["value"])]),_:1}),u(l,{label:"\u72B6\u6001",path:"is_lock"},{default:o(()=>[u(d,{value:a.formData.is_lock,"onUpdate:value":e[6]||(e[6]=t=>a.formData.is_lock=t),name:"is_lock"},{default:o(()=>[(D(!0),V(J,null,P(a.keys_type_lock,(t,g)=>(D(),h(n,{value:g,key:g},{default:o(()=>[w(k(t),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1}),u(l,{label:"\u5929\u6570",path:"days"},{default:o(()=>[u(r,{value:a.formData.days,"onUpdate:value":e[7]||(e[7]=t=>a.formData.days=t),min:0,max:9999999999,step:.01,clearable:""},null,8,["value","step"])]),_:1}),u(l,{label:"\u70B9\u6570",path:"points"},{default:o(()=>[u(r,{value:a.formData.points,"onUpdate:value":e[8]||(e[8]=t=>a.formData.points=t),min:0,max:99999,step:1,clearable:""},null,8,["value"])]),_:1}),u(l,{label:"\u6807\u7B7E",path:"tag"},{default:o(()=>[u(s,{maxlength:200,value:a.formData.tag,"onUpdate:value":e[9]||(e[9]=t=>a.formData.tag=t),placeholder:"\u8F93\u5165\u6FC0\u6D3B\u7801\u7ED1\u5B9A\u6807\u7B7E"},null,8,["value"])]),_:1}),u(l,{label:"\u9644\u52A0\u5C5E\u6027",path:"key_ext_attr"},{default:o(()=>[u(s,{maxlength:200,value:a.formData.key_ext_attr,"onUpdate:value":e[10]||(e[10]=t=>a.formData.key_ext_attr=t),placeholder:"\u8F93\u5165\u6FC0\u6D3B\u7801\u7ED1\u5B9A\u9644\u52A0\u5C5E\u6027"},null,8,["value"])]),_:1})]),u(l,null,{default:o(()=>[u(b,{type:"primary","attr-type":"button",onClick:a.handleOk},{default:o(()=>[w(k(a.title),1)]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title","show"])}const ua=L(W,[["render",Y],["__scopeId","data-v-d83bad3a"]]);export{ua as default};
