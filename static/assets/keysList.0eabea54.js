var I=Object.defineProperty;var h=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var A=(r,i,a)=>i in r?I(r,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[i]=a,k=(r,i)=>{for(var a in i||(i={}))H.call(i,a)&&A(r,a,i[a]);if(h)for(var a of h(i))M.call(i,a)&&A(r,a,i[a]);return r};var v=(r,i,a)=>new Promise((b,F)=>{var C=d=>{try{f(a.next(d))}catch(m){F(m)}},g=d=>{try{f(a.throw(d))}catch(m){F(m)}},f=d=>d.done?b(d.value):Promise.resolve(d.value).then(C,g);f((a=a.apply(r,i)).next())});import{B as $}from"./Table.f3fc7c86.js";import{T as G}from"./TableAction.ab11b52b.js";import{r as Q,s as W,t as X}from"./index.62164120.js";import{k as B}from"./list.1c84ad03.js";import{u as Y}from"./app.ce630fce.js";import Z from"./batch.35f27f43.js";import{d as ee,H as x,a2 as ue,r as c,u as le,I as te,$ as w,b as U,o as j,z as T,w as l,i as u,h as D,J as oe,k as ne,B as ae,m as ie,cO as se,_ as re,C as de,cP as pe,q as _e,p as ce,D as me}from"./index.59f76cad.js";import"./TableAction.vue_vue_type_script_lang.321ef384.js";import"./vuedraggable.umd.0da7a3e4.js";import"./useDesignSetting.50fa4cb3.js";import"./SettingOutlined.a710f903.js";import"./propTypes.9160ed87.js";import"./FormOutlined.6fbfe0c1.js";import"./ReloadOutlined.69a41b08.js";import"./componentSetting.a3b3dac8.js";import"./index.99a0eb0f.js";import"./DownOutlined.5557ba80.js";import"./Time.48ade623.js";const Ne=ee({__name:"keysList",setup(r){for(let t in B)B[t].title==="\u72B6\u6001"&&(B[t].render=e=>x(ue,{type:e.is_lock===0?"success":"error",size:"small",onClick:p=>v(this,null,function*(){yield Q(e.id),e.is_lock=e.is_lock===0?1:0})},["\u6B63\u5E38","\u9501\u5B9A"][e.is_lock]));const i=c([]),a=Y(),b=B,F=le(),C=te(),g=c();c([]),c(""),c(null),c(!1);const f=w(()=>{let t=JSON.parse(JSON.stringify(a.getProjectList));return t.unshift({name:"\u901A\u7528",id:0}),t.unshift({name:"\u6240\u6709",id:-1}),t}),d=w(()=>a.getCardList),m=c([]);m.value=d.value;const L=U({width:80,title:"\u64CD\u4F5C",key:"action",fixed:"right",render(t){return x(G,{style:"button",actions:[{label:"\u5220\u9664",onClick:R.bind(null,t),ifShow:()=>!0}]})}}),o=U({project_id:-1,long_keys:null,cards_id:null,is_active:-1,is_lock:-1,member:"",order_id:null,id:"",type:"",lock:0}),N=c({limit:10,page:1});function R(t){return v(this,null,function*(){C.warning({title:"\u6E29\u99A8\u63D0\u793A",content:"\u786E\u5B9A\u5220\u9664\uFF1F(\u64CD\u4F5C\u4E0D\u53EF\u9006)",positiveText:"\u5220\u9664",negativeText:"\u53D6\u6D88",onPositiveClick:()=>v(this,null,function*(){yield W(t.id),y()}),onNegativeClick:()=>{F.info("\u53D6\u6D88\u64CD\u4F5C")}})})}const K=t=>v(this,null,function*(){let e=yield X(k(k(k({},o),N.value),t));return console.log(e),e});function P(t){i.value=t}function y(){g.value.fetchData()}function S(t){let e=d.value,p=[];if(t!==null)for(let s in e)console.log(e[s].project_id,t),e[s].project_id===t&&p.push(e[s]);o.project_id=t,m.value=p}return(t,e)=>{const p=ae,s=ie,_=se,E=re,O=de,q=pe,J=_e,V=ce,z=me;return j(),T(z,{title:""},{default:l(()=>[u(D($),{columns:D(b),request:K,"row-key":n=>n.id,ref_key:"actionRef",ref:g,actionColumn:L,"scroll-x":1090,"onUpdate:checkedRowKeys":P},{form:l(()=>[u(J,{ref:"formRef",model:o,"label-placement":"left","label-width":"100","require-mark-placement":"right-hanging"},{default:l(()=>[u(q,{cols:"1 s:2 m:4 l:4 xl:4 2xl:4",responsive:"screen"},{default:l(()=>[u(_,null,{default:l(()=>[u(s,{label:"\u5F52\u5C5E\u9879\u76EE",path:"inputValue"},{default:l(()=>[u(p,{"label-field":"name","value-field":"id",value:o.project_id,"onUpdate:value":e[0]||(e[0]=n=>o.project_id=n),options:D(f),placeholder:"\u8BF7\u9009\u62E9\u5F52\u5C5E\u9879\u76EE","on-update:value":S},null,8,["value","options"])]),_:1})]),_:1}),u(_,null,{default:l(()=>[u(s,{label:"\u6FC0\u6D3B\u7801\u7C7B\u578B",path:"title"},{default:l(()=>[u(p,{"label-field":"title","value-field":"id",value:o.cards_id,"onUpdate:value":e[1]||(e[1]=n=>o.cards_id=n),options:m.value,placeholder:"\u8BF7\u9009\u62E9\u5F52\u5C5E\u6FC0\u6D3B\u7801\u7C7B\u578B"},null,8,["value","options"])]),_:1})]),_:1}),u(_,null,{default:l(()=>[u(s,{label:"\u6FC0\u6D3B\u7801",path:"long_keys"},{default:l(()=>[u(E,{maxlength:32,value:o.long_keys,"onUpdate:value":e[2]||(e[2]=n=>o.long_keys=n),placeholder:"\u8BF7\u8F93\u5165\u9700\u67E5\u8BE2\u7684\u6FC0\u6D3B\u7801",clearable:""},null,8,["value"])]),_:1})]),_:1}),u(_,null,{default:l(()=>[u(s,{label:"\u662F\u5426\u4F7F\u7528",path:"is_active"},{default:l(()=>[u(p,{"label-field":"title","value-field":"id",value:o.is_active,"onUpdate:value":e[3]||(e[3]=n=>o.is_active=n),options:[{title:"\u6240\u6709",id:-1},{title:"\u672A\u4F7F\u7528",id:0},{title:"\u5DF2\u4F7F\u7528",id:1}],placeholder:"\u8BF7\u9009\u62E9\u662F\u5426\u4F7F\u7528"},null,8,["value"])]),_:1})]),_:1}),u(_,null,{default:l(()=>[u(s,{label:"\u662F\u5426\u9501\u5B9A",path:"is_lock"},{default:l(()=>[u(p,{"label-field":"title","value-field":"id",value:o.is_lock,"onUpdate:value":e[4]||(e[4]=n=>o.is_lock=n),options:[{title:"\u6240\u6709",id:-1},{title:"\u672A\u9501\u5B9A",id:0},{title:"\u5DF2\u9501\u5B9A",id:1}],placeholder:"\u8BF7\u9009\u62E9\u662F\u5426\u4F7F\u7528"},null,8,["value"])]),_:1})]),_:1}),u(_,null,{default:l(()=>[u(s,{label:"\u5173\u8054\u7528\u6237",path:"member"},{default:l(()=>[u(E,{maxlength:32,value:o.member,"onUpdate:value":e[5]||(e[5]=n=>o.member=n),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u8D26\u53F7",clearable:""},null,8,["value"])]),_:1})]),_:1}),u(_,null,{default:l(()=>[u(s,{label:"\u8BA2\u5355\u53F7",path:"order_id"},{default:l(()=>[u(O,{value:o.order_id,"onUpdate:value":e[6]||(e[6]=n=>o.order_id=n),min:1,max:999999999,step:1,clearable:"",placeholder:"\u8BF7\u8F93\u5165\u6FC0\u6D3B\u7801\u8BA2\u5355\u53F7"},null,8,["value"])]),_:1})]),_:1}),u(_,null,{default:l(()=>[u(s,{label:"\u64CD\u4F5C"},{default:l(()=>[(j(),T(oe(Z),{rows:i.value,"onUpdate:rows":e[7]||(e[7]=n=>i.value=n),form:o,"onUpdate:form":e[8]||(e[8]=n=>o=n),onOnUpdate:y},null,40,["rows","form"]))]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),toolbar:l(()=>[u(V,{type:"primary",onClick:y},{default:l(()=>[ne("\u67E5\u8BE2")]),_:1})]),_:1},8,["columns","row-key","actionColumn"])]),_:1})}}});export{Ne as default};
