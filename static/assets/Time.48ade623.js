import{aM as x,aN as f,aO as _,aP as b,aQ as N,aR as L,d as U,aS as z,$ as v,aT as F,aU as A,k as Y,H}from"./index.59f76cad.js";function Z(t,o){x(2,arguments);var r=f(t),n=f(o),u=r.getTime()-n.getTime();return u<0?-1:u>0?1:u}function C(t){return _({},t)}var R=1e3*60,h=60*24,S=h*30,I=h*365;function P(t,o){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};x(2,arguments);var n=r.locale||b;if(!n.formatDistance)throw new RangeError("locale must contain localize.formatDistance property");var u=Z(t,o);if(isNaN(u))throw new RangeError("Invalid time value");var a=C(r);a.addSuffix=Boolean(r.addSuffix),a.comparison=u;var s,m;u>0?(s=f(o),m=f(t)):(s=f(t),m=f(o));var g=r.roundingMethod==null?"round":String(r.roundingMethod),e;if(g==="floor")e=Math.floor;else if(g==="ceil")e=Math.ceil;else if(g==="round")e=Math.round;else throw new RangeError("roundingMethod must be 'floor', 'ceil' or 'round'");var d=m.getTime()-s.getTime(),l=d/R,T=N(m)-N(s),c=(d-T)/R,i;if(r.unit==null?l<1?i="second":l<60?i="minute":l<h?i="hour":c<S?i="day":c<I?i="month":i="year":i=String(r.unit),i==="second"){var y=e(d/1e3);return n.formatDistance("xSeconds",y,a)}else if(i==="minute"){var w=e(l);return n.formatDistance("xMinutes",w,a)}else if(i==="hour"){var E=e(l/60);return n.formatDistance("xHours",E,a)}else if(i==="day"){var O=e(c/h);return n.formatDistance("xDays",O,a)}else if(i==="month"){var M=e(c/S);return M===12&&r.unit!=="month"?n.formatDistance("xYears",1,a):n.formatDistance("xMonths",M,a)}else if(i==="year"){var p=e(c/I);return n.formatDistance("xYears",p,a)}throw new RangeError("unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'")}function D(t){x(1,arguments);var o=L(t);return f(o*1e3)}const j={time:{type:[Number,Date],default:void 0},type:{type:String,default:"datetime"},to:{type:[Number,Date],default:void 0},unix:Boolean,format:String,text:Boolean,timeZone:String},q=U({name:"Time",props:j,setup(t){const o=Date.now(),{localeRef:r,dateLocaleRef:n}=z("Time"),u=v(()=>{const{timeZone:e}=t;return e?(d,l,T)=>F(d,e,l,T):A}),a=v(()=>({locale:n.value.locale})),s=v(()=>{const{time:e}=t;return t.unix?e===void 0?o:D(typeof e=="number"?e:e.valueOf()):e!=null?e:o}),m=v(()=>{const{to:e}=t;return t.unix?e===void 0?o:D(typeof e=="number"?e:e.valueOf()):e!=null?e:o});return{renderedTime:v(()=>t.format?u.value(s.value,t.format,a.value):t.type==="date"?u.value(s.value,r.value.dateFormat,a.value):t.type==="datetime"?u.value(s.value,r.value.dateTimeFormat,a.value):P(s.value,m.value,{addSuffix:!0,locale:n.value.locale}))}},render(){return this.text?Y(this.renderedTime):H("time",[this.renderedTime])}});export{q as N};
